<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* prevent mobile shrinking */
    body {
      min-width: 1024px;   /* or your desktop design width */
      margin: 0;
      background: #f8f8f8;
    }
  </style>
  <meta charset="UTF-8">
  <title>Login | My Website</title>
  <link rel="stylesheet" href="login.css">
  <!-- GSAP CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
<script src="animations.js"></script>
</head>
<body>
  <div class="wrapper">
    <div class="login-box">
      <form id="loginForm">
        <h2>Login</h2>

        <div class="input-box">
          <span class="icon"><ion-icon name="mail"></ion-icon></span>
          <input type="email" id="email" required>
          <label>Email</label>
        </div>

        <div class="input-box">
          <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
          <input type="password" id="password" required>
          <label>Password</label>
        </div>

        <div class="remember-forgot">
          <label><input type="checkbox"> Remember me</label>
          <a href="#">Forgot Password?</a>
        </div>

        <button type="submit">Login</button>

        <div class="register-link">
          <p>Don't have an account? <a href="signup.html">Register</a></p>
        </div>
      </form>
    </div>
  </div>
  <script>
  function login() {
    // after checking username/password
    localStorage.setItem("loggedIn", "true");
    window.location.href = "index.html"; 
  }
</script>

  <!-- Icons -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script>
function checkLogin() {
  if (localStorage.getItem("loggedIn") === "true") {
    animateAndRedirect("index.html");
  } else {
    animateAndRedirect("login.html");
  }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script>
/* ---- PAGE TRANSITION EFFECT ---- */

// Create overlay once page loads
window.addEventListener("DOMContentLoaded", () => {
  const overlay = document.createElement("div");
  overlay.id = "transition-overlay";
  Object.assign(overlay.style, {
    position: "fixed",
    top: 0,
    left: 0,
    width: "100vw",
    height: "100vh",
    background: "black",
    zIndex: "9999",
    pointerEvents: "none",
    opacity: "1"
  });
  document.body.appendChild(overlay);

  // Fade in when page loads
  gsap.to(overlay, {
    opacity: 0,
    duration: 0.8,
    ease: "power2.out",
    onComplete: () => overlay.remove()
  });
});

function animateAndRedirect(url) {
  const overlay = document.createElement("div");
  Object.assign(overlay.style, {
    position: "fixed",
    top: 0,
    left: 0,
    width: "100vw",
    height: "100vh",
    background: "black",
    zIndex: "9999",
    opacity: "0"
  });
  document.body.appendChild(overlay);

  // Fade out before redirect
  gsap.to(overlay, {
    opacity: 1,
    duration: 0.8,
    ease: "power2.inOut",
    onComplete: () => (window.location.href = url)
  });
}
</script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script>
/* ---------- FUTURISTIC GLOWING PORTAL TRANSITION ---------- */

window.addEventListener("DOMContentLoaded", () => {
  // Create glowing portal overlay (entry animation)
  const portal = document.createElement("div");
  portal.id = "portal-overlay";
  Object.assign(portal.style, {
    position: "fixed",
    top: "50%",
    left: "50%",
    width: "200vmax",
    height: "200vmax",
    background: "radial-gradient(circle at center, rgba(72, 0, 255, 0.9) 0%, rgba(0, 195, 255, 0.8) 40%, rgba(0,0,0,1) 100%)",
    boxShadow: "0 0 80px 40px rgba(0, 153, 255, 0.4)",
    borderRadius: "50%",
    transform: "translate(-50%, -50%) scale(3)",
    zIndex: "9999",
    pointerEvents: "none",
    opacity: "1",
    transition: "filter 0.3s ease"
  });
  document.body.appendChild(portal);

  // Glow pulsation (while animating in)
  gsap.to(portal, {
    filter: "brightness(1.5)",
    duration: 0.8,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut"
  });

  // Animate portal shrinking (fade-in effect)
  gsap.to(portal, {
    scale: 0,
    opacity: 0,
    duration: 1.2,
    ease: "power4.out",
    delay: 0.2,
    onComplete: () => portal.remove()
  });
});

function animateAndRedirect(url) {
  // Create glowing portal overlay (exit animation)
  const portal = document.createElement("div");
  Object.assign(portal.style, {
    position: "fixed",
    top: "50%",
    left: "50%",
    width: "200vmax",
    height: "200vmax",
    background: "radial-gradient(circle at center, rgba(72, 0, 255, 0.9) 0%, rgba(0, 195, 255, 0.8) 40%, rgba(0,0,0,1) 100%)",
    boxShadow: "0 0 100px 60px rgba(0, 153, 255, 0.5)",
    borderRadius: "50%",
    transform: "translate(-50%, -50%) scale(0)",
    zIndex: "9999",
    opacity: "0"
  });
  document.body.appendChild(portal);

  // Animate portal expanding (fade-out effect)
  gsap.to(portal, {
    scale: 3,
    opacity: 1,
    duration: 1.2,
    ease: "power4.inOut",
    onComplete: () => window.location.href = url
  });
}
</script>

  <!-- Firebase Auth JS -->
  <script type="module" src="login.js"></script>
</body>
</html>